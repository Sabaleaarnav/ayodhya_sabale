<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Plot Map - Ayodhya Nagari Belhe</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .header h1 {
            color: #667eea;
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .header p {
            color: #666;
            font-size: 1.1rem;
        }

        .map-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .legend {
            display: flex;
            gap: 20px;
            align-items: center;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
        }

        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 4px;
            border: 2px solid #333;
        }

        .available { background-color: #d4edda; }
        .sold { background-color: #f8d7da; }
        .selected { background-color: #fff3cd; }

        .search-box {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .search-box input {
            padding: 8px 15px;
            border: 2px solid #ddd;
            border-radius: 25px;
            font-size: 1rem;
            width: 200px;
            transition: border-color 0.3s ease;
        }

        .search-box input:focus {
            outline: none;
            border-color: #667eea;
        }

        .search-box button {
            padding: 8px 15px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .search-box button:hover {
            background: #5a6fd8;
        }

        .map-container {
            position: relative;
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: inset 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .plot-svg {
            width: 100%;
            height: auto;
            display: block;
            transition: transform 0.3s ease;
        }

        .plot {
            cursor: pointer;
            transition: all 0.3s ease;
            stroke: #333;
            stroke-width: 1.5;
        }

        .plot:hover {
            stroke: #667eea;
            stroke-width: 3;
            filter: brightness(1.1);
        }

        .plot.available {
            fill: #d4edda;
        }

        .plot.sold {
            fill: #f8d7da;
        }

        .plot.selected {
            fill: #fff3cd;
            stroke: #ff6b6b;
            stroke-width: 4;
        }

        .plot-text {
            font-size: 8px;
            font-weight: bold;
            fill: #333;
            pointer-events: none;
            text-anchor: middle;
            dominant-baseline: central;
        }

        .plot-info {
            position: fixed;
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 15px;
            border-radius: 10px;
            font-size: 0.9rem;
            z-index: 1000;
            pointer-events: none;
            max-width: 250px;
            display: none;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }

        .plot-info h4 {
            color: #67eea;
            margin-bottom: 8px;
            font-size: 1.1rem;
        }

        .plot-info p {
            margin: 4px 0;
            line-height: 1.4;
        }

        .zoom-controls {
            position: absolute;
            top: 20px;
            right: 20px;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .zoom-btn {
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.9);
            border: 2px solid #667eea;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: #667eea;
            transition: all 0.3s ease;
        }

        .zoom-btn:hover {
            background: #667eea;
            color: white;
        }

        .statistics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .map-controls {
                flex-direction: column;
                align-items: stretch;
            }
            
            .legend {
                justify-content: center;
            }
            
            .search-box {
                justify-content: center;
            }
            
            .search-box input {
                width: 150px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Ayodhya Nagari Belhe</h1>
            <p>Interactive Plot Map - Click on any plot for details</p>
        </div>

        <div class="map-controls">
            <div class="legend">
                <div class="legend-item">
                    <div class="legend-color available"></div>
                    <span>Available</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color sold"></div>
                    <span>Sold/Reserved</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color selected"></div>
                    <span>Selected</span>
                </div>
            </div>
            
            <div class="search-box">
                <input type="text" id="plotSearch" placeholder="Enter plot number...">
                <button onclick="searchPlot()">Find</button>
                <button onclick="clearSelection()">Clear</button>
            </div>
        </div>

        <div class="map-container">
            <div class="zoom-controls">
                <div class="zoom-btn" onclick="zoomIn()">+</div>
                <div class="zoom-btn" onclick="zoomOut()">-</div>
                <div class="zoom-btn" onclick="resetZoom()">âŒ‚</div>
            </div>

            <svg class="plot-svg" id="plotMap" viewBox="0 0 1000 800" xmlns="http://www.w3.org/2000/svg">
                <!-- Main boundary -->
                <path d="M50 50 L950 50 L950 750 L50 750 Z" fill="none" stroke="#999" stroke-width="3" stroke-dasharray="10,5"/>
                
                <!-- Electric Line -->
                <line x1="800" y1="0" x2="800" y2="300" stroke="#ff6b6b" stroke-width="2" stroke-dasharray="5,5"/>
                <text x="810" y="150" font-size="10" fill="#ff6b6b">Electric Line</text>
                
                <!-- Internal roads -->
                <line x1="150" y1="100" x2="150" y2="700" stroke="#ccc" stroke-width="2"/>
                <line x1="250" y1="100" x2="250" y2="700" stroke="#ccc" stroke-width="2"/>
                <line x1="350" y1="100" x2="350" y2="700" stroke="#ccc" stroke-width="2"/>
                <line x1="450" y1="100" x2="450" y2="700" stroke="#ccc" stroke-width="2"/>
                <line x1="550" y1="100" x2="550" y2="500" stroke="#ccc" stroke-width="2"/>
                <line x1="650" y1="100" x2="650" y2="500" stroke="#ccc" stroke-width="2"/>
                
                <!-- Horizontal roads -->
                <line x1="100" y1="200" x2="700" y2="200" stroke="#ccc" stroke-width="2"/>
                <line x1="100" y1="300" x2="700" y2="300" stroke="#ccc" stroke-width="2"/>
                <line x1="150" y1="500" x2="900" y2="500" stroke="#ccc" stroke-width="2"/>
            </svg>
        </div>

        <div class="plot-info" id="plotInfo"></div>

        <div class="statistics">
            <div class="stat-card">
                <div class="stat-number" id="totalPlots">0</div>
                <div class="stat-label">Total Plots</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="availablePlots">0</div>
                <div class="stat-label">Available Plots</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="totalArea">0</div>
                <div class="stat-label">Total Area (Guntha)</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="avgSize">0</div>
                <div class="stat-label">Avg Size (Guntha)</div>
            </div>
        </div>
    </div>

    <script>
        // Plot data from your CSV
        const plotData = [
            {number: "01", sizeM: 1025.51, sizeFt: 11038.59, sizeGuntha: 11.619568, customer: "Atul Gandhi", status: "AVAILABLE", remark: "No updates on Payment"},
            {number: "07", sizeM: 556.34, sizeFt: 5988.44, sizeGuntha: 6.303625, customer: "", status: "AVAILABLE", remark: "Is this plot sold to Mr Pawar on May 10th 25"},
            {number: "08", sizeM: 556.34, sizeFt: 5988.44, sizeGuntha: 6.303625, customer: "", status: "AVAILABLE", remark: ""},
            {number: "10", sizeM: 543.20, sizeFt: 5847.00, sizeGuntha: 6.154742, customer: "", status: "AVAILABLE", remark: ""},
            {number: "11", sizeM: 543.20, sizeFt: 5847.00, sizeGuntha: 6.154742, customer: "", status: "AVAILABLE", remark: ""},
            {number: "12", sizeM: 533.75, sizeFt: 5745.29, sizeGuntha: 6.047668, customer: "", status: "AVAILABLE", remark: ""},
            {number: "13", sizeM: 528.99, sizeFt: 5694.05, sizeGuntha: 5.993735, customer: "", status: "AVAILABLE", remark: ""},
            {number: "14", sizeM: 517.45, sizeFt: 5569.83, sizeGuntha: 5.862981, customer: "", status: "AVAILABLE", remark: ""},
            {number: "30", sizeM: 461.77, sizeFt: 4970.49, sizeGuntha: 5.232097, customer: "", status: "AVAILABLE", remark: ""},
            {number: "31", sizeM: 184.99, sizeFt: 1991.23, sizeGuntha: 2.096034, customer: "", status: "AVAILABLE", remark: ""},
            {number: "32", sizeM: 197.89, sizeFt: 2130.09, sizeGuntha: 2.242198, customer: "", status: "AVAILABLE", remark: ""},
            {number: "33", sizeM: 209.54, sizeFt: 2255.49, sizeGuntha: 2.374198, customer: "", status: "AVAILABLE", remark: ""},
            {number: "34", sizeM: 208.89, sizeFt: 2248.49, sizeGuntha: 2.366834, customer: "", status: "AVAILABLE", remark: ""},
            {number: "35", sizeM: 201.21, sizeFt: 2165.82, sizeGuntha: 2.279815, customer: "", status: "AVAILABLE", remark: ""},
            {number: "36", sizeM: 192.58, sizeFt: 2072.93, sizeGuntha: 2.182033, customer: "", status: "AVAILABLE", remark: ""},
            {number: "37", sizeM: 166.75, sizeFt: 1794.90, sizeGuntha: 1.889365, customer: "", status: "AVAILABLE", remark: ""},
            {number: "38", sizeM: 134.54, sizeFt: 1448.19, sizeGuntha: 1.524409, customer: "", status: "AVAILABLE", remark: ""},
            {number: "39", sizeM: 102.37, sizeFt: 1101.91, sizeGuntha: 1.159906, customer: "", status: "AVAILABLE", remark: ""},
            {number: "40", sizeM: 90.27, sizeFt: 971.66, sizeGuntha: 1.022797, customer: "", status: "AVAILABLE", remark: ""},
            {number: "41", sizeM: 94.91, sizeFt: 1021.60, sizeGuntha: 1.075370, customer: "", status: "AVAILABLE", remark: ""},
            {number: "42", sizeM: 99.55, sizeFt: 1071.55, sizeGuntha: 1.127943, customer: "", status: "AVAILABLE", remark: ""},
            {number: "43", sizeM: 117.53, sizeFt: 1265.09, sizeGuntha: 1.331677, customer: "", status: "AVAILABLE", remark: ""},
            {number: "71", sizeM: 100.01, sizeFt: 1076.51, sizeGuntha: 1.133166, customer: "", status: "AVAILABLE", remark: ""},
            {number: "93", sizeM: 100.01, sizeFt: 1076.51, sizeGuntha: 1.133166, customer: "", status: "AVAILABLE", remark: "Deposit amount is different, Plot # 93 in incorect it should be 114"},
            {number: "94", sizeM: 100.01, sizeFt: 1076.51, sizeGuntha: 1.133166, customer: "", status: "AVAILABLE", remark: ""},
            {number: "116", sizeM: 100.01, sizeFt: 1076.51, sizeGuntha: 1.133166, customer: "", status: "AVAILABLE", remark: ""},
            {number: "117", sizeM: 100.01, sizeFt: 1076.51, sizeGuntha: 1.133166, customer: "", status: "AVAILABLE", remark: ""},
            {number: "121", sizeM: 100.01, sizeFt: 1076.51, sizeGuntha: 1.133166, customer: "", status: "AVAILABLE", remark: ""},
            {number: "147", sizeM: 671.91, sizeFt: 7232.44, sizeGuntha: 7.613094, customer: "", status: "AVAILABLE", remark: ""},
            {number: "148", sizeM: 641.85, sizeFt: 6908.87, sizeGuntha: 7.272498, customer: "", status: "AVAILABLE", remark: ""},
            {number: "149", sizeM: 640.24, sizeFt: 6891.54, sizeGuntha: 7.254256, customer: "", status: "AVAILABLE", remark: ""},
            {number: "151", sizeM: 587.56, sizeFt: 6324.50, sizeGuntha: 6.657364, customer: "", status: "AVAILABLE", remark: ""},
            {number: "152", sizeM: 585.82, sizeFt: 6305.77, sizeGuntha: 6.637649, customer: "", status: "AVAILABLE", remark: ""},
            {number: "153", sizeM: 583.72, sizeFt: 6283.16, sizeGuntha: 6.613855, customer: "", status: "AVAILABLE", remark: ""},
            {number: "154", sizeM: 581.62, sizeFt: 6260.56, sizeGuntha: 6.590061, customer: "", status: "AVAILABLE", remark: ""},
            {number: "155", sizeM: 571.69, sizeFt: 6153.67, sizeGuntha: 6.477549, customer: "", status: "AVAILABLE", remark: ""},
            {number: "156", sizeM: 931.22, sizeFt: 10023.65, sizeGuntha: 10.551213, customer: "", status: "AVAILABLE", remark: ""},
            {number: "157", sizeM: 945.15, sizeFt: 10173.59, sizeGuntha: 10.709047, customer: "", status: "AVAILABLE", remark: ""},
            {number: "158", sizeM: 571.69, sizeFt: 6153.67, sizeGuntha: 6.477549, customer: "", status: "AVAILABLE", remark: ""},
            {number: "159", sizeM: 581.71, sizeFt: 6261.53, sizeGuntha: 6.591080, customer: "", status: "AVAILABLE", remark: ""},
            {number: "160", sizeM: 583.80, sizeFt: 6284.02, sizeGuntha: 6.614761, customer: "", status: "AVAILABLE", remark: ""},
            {number: "161", sizeM: 585.88, sizeFt: 6306.41, sizeGuntha: 6.638329, customer: "", status: "AVAILABLE", remark: ""},
            {number: "162", sizeM: 587.96, sizeFt: 6328.80, sizeGuntha: 6.661896, customer: "", status: "AVAILABLE", remark: ""},
            {number: "163", sizeM: 590.04, sizeFt: 6351.19, sizeGuntha: 6.685464, customer: "", status: "AVAILABLE", remark: ""},
            {number: "164", sizeM: 592.13, sizeFt: 6373.69, sizeGuntha: 6.709145, customer: "", status: "AVAILABLE", remark: ""},
            {number: "165", sizeM: 594.82, sizeFt: 6402.64, sizeGuntha: 6.739624, customer: "", status: "AVAILABLE", remark: ""},
            {number: "166", sizeM: 853.65, sizeFt: 9188.69, sizeGuntha: 9.672304, customer: "", status: "AVAILABLE", remark: ""},
            {number: "167", sizeM: 820.45, sizeFt: 8831.32, sizeGuntha: 9.296130, customer: "", status: "AVAILABLE", remark: ""},
            {number: "168", sizeM: 454.92, sizeFt: 4896.76, sizeGuntha: 5.154483, customer: "", status: "AVAILABLE", remark: ""},
            {number: "169", sizeM: 527.06, sizeFt: 5673.27, sizeGuntha: 5.971867, customer: "", status: "AVAILABLE", remark: ""},
            {number: "170", sizeM: 509.54, sizeFt: 5484.69, sizeGuntha: 5.773356, customer: "", status: "AVAILABLE", remark: ""},
            {number: "171", sizeM: 477.62, sizeFt: 5141.10, sizeGuntha: 5.411686, customer: "", status: "AVAILABLE", remark: ""},
            {number: "172", sizeM: 445.70, sizeFt: 4797.51, sizeGuntha: 5.050016, customer: "", status: "AVAILABLE", remark: ""},
            {number: "173", sizeM: 413.77, sizeFt: 4453.82, sizeGuntha: 4.688232, customer: "", status: "AVAILABLE", remark: ""},
            {number: "174", sizeM: 384.95, sizeFt: 4143.60, sizeGuntha: 4.361686, customer: "", status: "AVAILABLE", remark: ""},
            {number: "175", sizeM: 349.41, sizeFt: 3761.05, sizeGuntha: 3.958999, customer: "", status: "AVAILABLE", remark: ""},
            {number: "176", sizeM: 334.04, sizeFt: 3595.61, sizeGuntha: 3.784849, customer: "", status: "AVAILABLE", remark: ""},
            {number: "177", sizeM: 449.24, sizeFt: 4835.62, sizeGuntha: 5.090126, customer: "", status: "AVAILABLE", remark: ""},
            {number: "178", sizeM: 470.06, sizeFt: 5059.73, sizeGuntha: 5.326027, customer: "", status: "AVAILABLE", remark: ""},
            {number: "179", sizeM: 466.95, sizeFt: 5026.25, sizeGuntha: 5.290789, customer: "", status: "AVAILABLE", remark: ""},
            {number: "180", sizeM: 899.90, sizeFt: 9686.52, sizeGuntha: 10.196341, customer: "", status: "AVAILABLE", remark: ""},
            {number: "181", sizeM: 1581.38, sizeFt: 17021.97, sizeGuntha: 17.917868, customer: "", status: "AVAILABLE", remark: ""},
            {number: "182", sizeM: 1213.13, sizeFt: 13058.13, sizeGuntha: 13.745401, customer: "", status: "AVAILABLE", remark: ""}
        ];

        // Layout configuration for plot positioning
        const plotLayout = {
            // First column (left side)
            col1: {x: 70, y: 120, plots: ["01", "07", "08", "10", "11", "12", "13", "14"]},
            // Second column
            col2: {x: 170, y: 120, plots: ["147", "148", "149", "151", "152", "153", "154", "155"]},
            // Third column
            col3: {x: 270, y: 120, plots: ["156", "157", "158", "159", "160", "161", "162", "163"]},
            // Fourth column
            col4: {x: 370, y: 120, plots: ["164", "165", "166", "167", "168", "169", "170", "171"]},
            // Fifth column
            col5: {x: 470, y: 120, plots: ["172", "173", "174", "175", "176", "177", "178", "179"]},
            // Right side larger plots
            largeRow1: {x: 570, y: 520, plots: ["180", "181", "182"]},
            // Bottom row small plots
            bottomRow: {x: 170, y: 520, plots: ["30", "31", "32", "33", "34", "35", "36", "37", "38", "39", "40", "41", "42", "43", "71", "93", "94", "116", "117", "121"]}
        };

        let currentZoom = 1;
        let selectedPlot = null;

        function generatePlots() {
            const svg = document.getElementById('plotMap');
            
            // Generate plots for each layout section
            Object.keys(plotLayout).forEach(section => {
                const config = plotLayout[section];
                config.plots.forEach((plotNum, index) => {
                    const plotInfo = plotData.find(p => p.number === plotNum);
                    if (!plotInfo) return;

                    let x, y, width, height;
                    
                    if (section.includes('col')) {
                        // Column layout
                        x = config.x;
                        y = config.y + (index * 60);
                        width = 60;
                        height = 50;
                    } else if (section === 'largeRow1') {
                        // Large plots
                        x = config.x + (index * 100);
                        y = config.y;
                        width = 90;
                        height = 80;
                    } else if (section === 'bottomRow') {
                        // Bottom row small plots
                        const plotsPerRow = 10;
                        const row = Math.floor(index / plotsPerRow);
                        const col = index % plotsPerRow;
                        x = config.x + (col * 35);
                        y = config.y + (row * 35);
                        width = 30;
                        height = 30;
                    }

                    // Create plot rectangle
                    const rect = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
                    rect.setAttribute('x', x);
                    rect.setAttribute('y', y);
                    rect.setAttribute('width', width);
                    rect.setAttribute('height', height);
                    rect.setAttribute('class', `plot ${plotInfo.status.toLowerCase()}`);
                    rect.setAttribute('data-plot', plotNum);
                    rect.setAttribute('rx', '5');
                    
                    // Add event listeners
                    rect.addEventListener('click', () => selectPlot(plotNum));
                    rect.addEventListener('mouseenter', (e) => showPlotInfo(e, plotInfo));
                    rect.addEventListener('mouseleave', hidePlotInfo);
                    
                    svg.appendChild(rect);

                    // Create plot text
                    const text = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                    text.setAttribute('x', x + width/2);
                    text.setAttribute('y', y + height/2 - 5);
                    text.setAttribute('class', 'plot-text');
                    text.textContent = plotNum;
                    svg.appendChild(text);

                    // Add size text for larger plots
                    if (width > 30) {
                        const sizeText = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                        sizeText.setAttribute('x', x + width/2);
                        sizeText.setAttribute('y', y + height/2 + 8);
                        sizeText.setAttribute('class', 'plot-text');
                        sizeText.setAttribute('font-size', '6');
                        sizeText.textContent = `${plotInfo.sizeGuntha.toFixed(1)}G`;
                        svg.appendChild(sizeText);
                    }
                });
            });
        }

        function selectPlot(plotNumber) {
            // Clear previous selection
            document.querySelectorAll('.plot').forEach(plot => {
                plot.classList.remove('selected');
            });
            
            // Select new plot
            const plotElement = document.querySelector(`[data-plot="${plotNumber}"]`);
            if (plotElement) {
                plotElement.classList.add('selected');
                selectedPlot = plotNumber;
                
                // Scroll plot into view (center the SVG viewBox on the plot)
                const rect = plotElement.getBoundingClientRect();
                plotElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
        }

        function showPlotInfo(event, plotInfo) {
            const tooltip = document.getElementById('plotInfo');
            tooltip.innerHTML = `
                <h4>Plot ${plotInfo.number}</h4>
                <p><strong>Size:</strong> ${plotInfo.sizeGuntha.toFixed(2)} Guntha</p>
                <p><strong>Area:</strong> ${plotInfo.sizeM.toFixed(2)} sq.m</p>
                <p><strong>Status:</strong> ${plotInfo.status}</p>
                ${plotInfo.customer ? `<p><strong>Customer:</strong> ${plotInfo.customer}</p>` : ''}
                ${plotInfo.remark ? `<p><strong>Remark:</strong> ${plotInfo.remark}</p>` : ''}
            `;
            
            tooltip.style.display = 'block';
            tooltip.style.left = (event.pageX + 10) + 'px';
            tooltip.style.top = (event.pageY - 10) + 'px';
        }

        function hidePlotInfo() {
            const tooltip = document.getElementById('plotInfo');
            tooltip.style.display = 'none';
        }

        function searchPlot() {
            const searchInput = document.getElementById('plotSearch');
            const plotNumber = searchInput.value.trim();
            
            if (!plotNumber) {
                alert('Please enter a plot number');
                return;
            }
            
            // Find plot in data
            const plotExists = plotData.find(p => p.number === plotNumber);
            if (plotExists) {
                selectPlot(plotNumber);
                searchInput.value = '';
            } else {
                alert(`Plot ${plotNumber} not found`);
            }
        }

        function clearSelection() {
            document.querySelectorAll('.plot').forEach(plot => {
                plot.classList.remove('selected');
            });
            selectedPlot = null;
            document.getElementById('plotSearch').value = '';
        }

        function zoomIn() {
            currentZoom = Math.min(currentZoom * 1.2, 3);
            applyZoom();
        }

        function zoomOut() {
            currentZoom = Math.max(currentZoom / 1.2, 0.5);
            applyZoom();
        }

        function resetZoom() {
            currentZoom = 1;
            applyZoom();
        }

        function applyZoom() {
            const svg = document.getElementById('plotMap');
            svg.style.transform = `scale(${currentZoom})`;
        }

        function updateStatistics() {
            const total = plotData.length;
            const available = plotData.filter(p => p.status === 'AVAILABLE').length;
            const totalArea = plotData.reduce((sum, plot) => sum + plot.sizeGuntha, 0);
            const avgSize = totalArea / total;

            document.getElementById('totalPlots').textContent = total;
            document.getElementById('availablePlots').textContent = available;
            document.getElementById('totalArea').textContent = totalArea.toFixed(1);
            document.getElementById('avgSize').textContent = avgSize.toFixed(1);
        }

        // Allow Enter key to search
        document.getElementById('plotSearch').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchPlot();
            }
        });

        // Initialize the map
        document.addEventListener('DOMContentLoaded', function() {
            generatePlots();
            updateStatistics();
        });
    </script>
</body>
</html>
